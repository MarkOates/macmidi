properties:
  - name: initialized
    type: bool
    init_with: false
  - name: midi_client_ref
    type: MIDIClientRef
    init_with: 0
  - name: midi_destination
    type: MIDIEndpointRef
    init_with: 0
  - name: midi_output_port
    type: MIDIPortRef
    init_with: 0
functions:
  - name: initialize
    type: void
    body: |
      if (initialized) return;
      MIDIClientCreate(CFSTR("MIDI Echo"), NULL, NULL, &midi_client_ref);
      initialized = true;
function_body_symbol_dependencies:
  - MIDIClientRef
  - MIDIEndpointRef
  - MIDIClientCreate
dependencies:
  - symbol: MIDIEndpointRef
    headers: [ 'CoreMIDI/MIDIServices.h' ]
  - symbol: MIDIPortRef
    headers: [ 'CoreMIDI/MIDIServices.h' ]
  - symbol: MIDIClientRef
    headers: [ 'CoreMIDI/MIDIServices.h' ]
  - symbol: MIDIClientCreate
    headers: [ 'CoreMIDI/MIDIServices.h' ]
